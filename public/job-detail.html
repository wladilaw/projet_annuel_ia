<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MotivAI - Détail de l'offre</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2d3436',
                        accent: '#e17055',
                        'accent-dark': '#c44569',
                        'text-dark': '#2d3436',
                        'text-light': '#636e72',
                        'bg-light': '#fff5f3',
                        success: '#00b894',
                        error: '#d63031',
                        warning: '#fdcb6e',
                        info: '#74b9ff',
                    },
                    fontFamily: {
                        'display': ['Playfair Display', 'serif'],
                        'brand': ['Abril Fatface', 'cursive'],
                        'sans': ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <script src="config.js"></script>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="font-brand text-3xl text-accent">MotivAI</a>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="/dashboard" class="text-text-light hover:text-primary transition">Dashboard</a>
                    <a href="/jobs" class="text-primary font-semibold">Offres</a>
                    <a href="/companies" class="text-text-light hover:text-primary transition">Entreprises</a>
                    <a href="/cv-builder" class="text-text-light hover:text-primary transition">CV</a>
                </div>

                <div class="flex items-center space-x-4">
                    <div class="w-10 h-10 bg-gradient-to-br from-accent to-accent-dark rounded-full flex items-center justify-center text-white font-semibold">
                        JD
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Breadcrumb -->
        <nav class="flex mb-8" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                <li class="inline-flex items-center">
                    <a href="/jobs" class="text-text-light hover:text-accent transition">Offres d'emploi</a>
                </li>
                <li>
                    <div class="flex items-center">
                        <span class="material-icons text-gray-400 mx-2">chevron_right</span>
                        <span class="text-primary font-medium">Senior Full Stack Engineer</span>
                    </div>
                </li>
            </ol>
        </nav>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Main Content -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Job Header -->
                <div class="bg-white rounded-xl p-8 shadow-sm">
                    <div class="flex items-start space-x-6">
                        <img src="https://logo.clearbit.com/google.com" alt="Google" class="w-20 h-20 rounded-xl object-contain bg-gray-50 p-3">
                        
                        <div class="flex-1">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <h1 class="text-3xl font-bold text-primary mb-2">Senior Full Stack Engineer</h1>
                                    <div class="flex items-center space-x-4 text-text-light">
                                        <span class="font-medium text-lg">Google</span>
                                        <span>•</span>
                                        <div class="flex items-center">
                                            <span class="material-icons text-base mr-1">location_on</span>
                                            Paris 08
                                        </div>
                                        <span>•</span>
                                        <span>Publié il y a 2h</span>
                                    </div>
                                </div>
                                <button class="p-2 text-gray-400 hover:text-accent transition">
                                    <span class="material-icons">bookmark_border</span>
                                </button>
                            </div>

                            <div class="flex flex-wrap gap-3 mb-6">
                                <span class="px-4 py-2 bg-success text-white rounded-lg font-medium">70-90K€</span>
                                <span class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg">CDI</span>
                                <span class="px-4 py-2 bg-green-100 text-green-700 rounded-lg flex items-center">
                                    <span class="material-icons text-base mr-1">home</span>
                                    Télétravail flexible
                                </span>
                                <span class="px-4 py-2 bg-accent/10 text-accent rounded-lg">⭐ Recommandé pour vous</span>
                            </div>

                            <!-- Match Score -->
                            <div class="bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm font-medium text-gray-700">Correspondance avec votre profil</span>
                                    <div class="flex items-center">
                                        <div class="w-32 h-2 bg-gray-200 rounded-full mr-3">
                                            <div class="w-5/6 h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full"></div>
                                        </div>
                                        <span class="text-sm font-semibold text-green-600">85%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Description -->
                <div class="bg-white rounded-xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold text-primary mb-6">Description du poste</h2>
                    
                    <div class="prose max-w-none">
                        <p class="text-text-dark leading-relaxed mb-6">
                            Nous recherchons un développeur Full Stack passionné pour rejoindre notre équipe Cloud Platform. 
                            Vous travaillerez sur des projets innovants à grande échelle qui impactent des millions d'utilisateurs 
                            dans le monde entier.
                        </p>

                        <h3 class="text-xl font-semibold text-primary mb-4">Missions principales</h3>
                        <ul class="space-y-2 mb-6">
                            <li class="flex items-start">
                                <span class="material-icons text-accent mr-2 mt-1">check_circle</span>
                                Développer et maintenir des applications web performantes
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-accent mr-2 mt-1">check_circle</span>
                                Collaborer avec les équipes produit et design
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-accent mr-2 mt-1">check_circle</span>
                                Participer à l'architecture technique des projets
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-accent mr-2 mt-1">check_circle</span>
                                Mentorer les développeurs junior
                            </li>
                        </ul>

                        <h3 class="text-xl font-semibold text-primary mb-4">Profil recherché</h3>
                        <ul class="space-y-2 mb-6">
                            <li class="flex items-start">
                                <span class="material-icons text-info mr-2 mt-1">star</span>
                                5+ années d'expérience en développement web
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-info mr-2 mt-1">star</span>
                                Maîtrise de React, Node.js, TypeScript
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-info mr-2 mt-1">star</span>
                                Expérience avec Google Cloud Platform
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-info mr-2 mt-1">star</span>
                                Anglais courant
                            </li>
                        </ul>

                        <h3 class="text-xl font-semibold text-primary mb-4">Ce que nous offrons</h3>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <span class="material-icons text-success mr-2 mt-1">favorite</span>
                                Salaire compétitif + stock options
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-success mr-2 mt-1">favorite</span>
                                Télétravail flexible (3j/semaine)
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-success mr-2 mt-1">favorite</span>
                                Formation continue et conférences
                            </li>
                            <li class="flex items-start">
                                <span class="material-icons text-success mr-2 mt-1">favorite</span>
                                Mutuelle premium + tickets restaurant
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Skills Required -->
                <div class="bg-white rounded-xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold text-primary mb-6">Compétences requises</h2>
                    
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                            <span class="w-3 h-3 bg-blue-500 rounded-full mr-3"></span>
                            <span class="font-medium">React</span>
                        </div>
                        <div class="flex items-center p-3 bg-green-50 rounded-lg">
                            <span class="w-3 h-3 bg-green-500 rounded-full mr-3"></span>
                            <span class="font-medium">Node.js</span>
                        </div>
                        <div class="flex items-center p-3 bg-purple-50 rounded-lg">
                            <span class="w-3 h-3 bg-purple-500 rounded-full mr-3"></span>
                            <span class="font-medium">TypeScript</span>
                        </div>
                        <div class="flex items-center p-3 bg-orange-50 rounded-lg">
                            <span class="w-3 h-3 bg-orange-500 rounded-full mr-3"></span>
                            <span class="font-medium">GCP</span>
                        </div>
                        <div class="flex items-center p-3 bg-red-50 rounded-lg">
                            <span class="w-3 h-3 bg-red-500 rounded-full mr-3"></span>
                            <span class="font-medium">Docker</span>
                        </div>
                        <div class="flex items-center p-3 bg-indigo-50 rounded-lg">
                            <span class="w-3 h-3 bg-indigo-500 rounded-full mr-3"></span>
                            <span class="font-medium">Kubernetes</span>
                        </div>
                    </div>
                </div>

                <!-- Company Info -->
                <div class="bg-white rounded-xl p-8 shadow-sm">
                    <h2 class="text-2xl font-bold text-primary mb-6">À propos de Google</h2>
                    
                    <div class="flex items-start space-x-6">
                        <img src="https://logo.clearbit.com/google.com" alt="Google" class="w-16 h-16 rounded-xl object-contain bg-gray-50 p-2">
                        
                        <div class="flex-1">
                            <p class="text-text-dark leading-relaxed mb-4">
                                Google est une entreprise technologique américaine qui développe des services et produits 
                                liés à Internet. Elle est l'une des entreprises les plus influentes au monde dans le domaine 
                                de la technologie.
                            </p>
                            
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                                <div>
                                    <span class="text-text-light">Secteur</span>
                                    <p class="font-medium">Technologie</p>
                                </div>
                                <div>
                                    <span class="text-text-light">Taille</span>
                                    <p class="font-medium">150K+ employés</p>
                                </div>
                                <div>
                                    <span class="text-text-light">Fondée en</span>
                                    <p class="font-medium">1998</p>
                                </div>
                                <div>
                                    <span class="text-text-light">Siège</span>
                                    <p class="font-medium">Mountain View, CA</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="space-y-6">
                <!-- Apply Section -->
                <div class="bg-white rounded-xl p-6 shadow-sm sticky top-24">
                    <h3 class="text-lg font-semibold text-primary mb-4">Postuler à cette offre</h3>
                    
                    <div class="space-y-4">
                        <button class="w-full bg-accent text-white py-3 rounded-lg font-semibold hover:bg-accent-dark transition flex items-center justify-center">
                            <span class="material-icons mr-2">send</span>
                            Postuler maintenant
                        </button>
                        
                        <button class="w-full bg-info text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition flex items-center justify-center">
                            <span class="material-icons mr-2">auto_awesome</span>
                            Générer une lettre IA
                        </button>
                        
                        <div class="flex space-x-2">
                            <button class="flex-1 border border-gray-200 py-2 rounded-lg hover:bg-gray-50 transition flex items-center justify-center">
                                <span class="material-icons mr-1">bookmark_border</span>
                                Sauvegarder
                            </button>
                            <button class="flex-1 border border-gray-200 py-2 rounded-lg hover:bg-gray-50 transition flex items-center justify-center">
                                <span class="material-icons mr-1">share</span>
                                Partager
                            </button>
                        </div>
                    </div>

                    <!-- Application Stats -->
                    <div class="mt-6 pt-6 border-t border-gray-100">
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between">
                                <span class="text-text-light">Candidatures</span>
                                <span class="font-medium">47 postulants</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-text-light">Vues</span>
                                <span class="font-medium">1,234</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-text-light">Expire le</span>
                                <span class="font-medium">15 Jan 2025</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Similar Jobs -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <h3 class="text-lg font-semibold text-primary mb-4">Offres similaires</h3>
                    
                    <div class="space-y-4">
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-accent transition cursor-pointer">
                            <div class="flex items-start space-x-3">
                                <img src="https://logo.clearbit.com/spotify.com" alt="Spotify" class="w-10 h-10 rounded-lg">
                                <div class="flex-1">
                                    <h4 class="font-medium text-primary">Frontend Developer</h4>
                                    <p class="text-sm text-text-light">Spotify • Paris</p>
                                    <p class="text-sm font-medium text-success mt-1">55-70K€</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-accent transition cursor-pointer">
                            <div class="flex items-start space-x-3">
                                <img src="https://logo.clearbit.com/microsoft.com" alt="Microsoft" class="w-10 h-10 rounded-lg">
                                <div class="flex-1">
                                    <h4 class="font-medium text-primary">Software Engineer</h4>
                                    <p class="text-sm text-text-light">Microsoft • Issy-les-Moulineaux</p>
                                    <p class="text-sm font-medium text-success mt-1">65-85K€</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-accent transition cursor-pointer">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm">
                                    ST
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-medium text-primary">Full Stack Developer</h4>
                                    <p class="text-sm text-text-light">StartupTech • Station F</p>
                                    <p class="text-sm font-medium text-success mt-1">45-60K€</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <a href="/jobs" class="block text-center text-accent hover:text-accent-dark transition mt-4 text-sm font-medium">
                        Voir toutes les offres similaires →
                    </a>
                </div>

                <!-- Company Jobs -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <h3 class="text-lg font-semibold text-primary mb-4">Autres postes chez Google</h3>
                    
                    <div class="space-y-3">
                        <a href="#" class="block p-3 hover:bg-gray-50 rounded-lg transition">
                            <h4 class="font-medium text-primary">Product Manager</h4>
                            <p class="text-sm text-text-light">Paris • CDI</p>
                        </a>
                        <a href="#" class="block p-3 hover:bg-gray-50 rounded-lg transition">
                            <h4 class="font-medium text-primary">Data Scientist</h4>
                            <p class="text-sm text-text-light">Paris • CDI</p>
                        </a>
                        <a href="#" class="block p-3 hover:bg-gray-50 rounded-lg transition">
                            <h4 class="font-medium text-primary">UX Designer</h4>
                            <p class="text-sm text-text-light">Paris • CDI</p>
                        </a>
                    </div>
                    
                    <a href="/companies/google" class="block text-center text-accent hover:text-accent-dark transition mt-4 text-sm font-medium">
                        Voir tous les postes chez Google →
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Vérification de l'authentification
        if (!Auth.isAuthenticated()) {
            Navigation.redirectTo('/login');
        }

        // Gestion des boutons d'action
        document.addEventListener('DOMContentLoaded', () => {
            // Bouton postuler
            const applyButton = document.querySelector('button:has(.material-icons[text="send"])');
            if (applyButton) {
                applyButton.addEventListener('click', () => {
                    // Rediriger vers le formulaire de candidature
                    window.location.href = '/form?job=senior-full-stack-engineer&company=google';
                });
            }

            // Bouton générer lettre IA
            const generateButton = document.querySelector('button:has(.material-icons[text="auto_awesome"])');
            if (generateButton) {
                generateButton.addEventListener('click', () => {
                    // Pré-remplir les données et rediriger vers le générateur
                    const jobData = {
                        title: 'Senior Full Stack Engineer',
                        company: 'Google',
                        skills: ['React', 'Node.js', 'TypeScript', 'GCP']
                    };
                    localStorage.setItem('job_application_data', JSON.stringify(jobData));
                    window.location.href = '/form';
                });
            }

            // Bouton sauvegarder
            const saveButton = document.querySelector('button:has(.material-icons[text="bookmark_border"])');
            if (saveButton) {
                saveButton.addEventListener('click', () => {
                    const icon = saveButton.querySelector('.material-icons');
                    if (icon.textContent === 'bookmark_border') {
                        icon.textContent = 'bookmark';
                        saveButton.classList.add('text-accent');
                        // Sauvegarder dans localStorage
                        const savedJobs = JSON.parse(localStorage.getItem('saved_jobs') || '[]');
                        savedJobs.push({
                            id: 'google-senior-fullstack',
                            title: 'Senior Full Stack Engineer',
                            company: 'Google',
                            savedAt: new Date().toISOString()
                        });
                        localStorage.setItem('saved_jobs', JSON.stringify(savedJobs));
                    } else {
                        icon.textContent = 'bookmark_border';
                        saveButton.classList.remove('text-accent');
                    }
                });
            }

            // Bouton partager
            const shareButton = document.querySelector('button:has(.material-icons[text="share"])');
            if (shareButton) {
                shareButton.addEventListener('click', () => {
                    if (navigator.share) {
                        navigator.share({
                            title: 'Senior Full Stack Engineer chez Google',
                            text: 'Découvrez cette offre d\'emploi sur MotivAI',
                            url: window.location.href
                        });
                    } else {
                        // Fallback: copier l'URL
                        navigator.clipboard.writeText(window.location.href);
                        alert('Lien copié dans le presse-papier !');
                    }
                });
            }
        });
    </script>
</body>
</html>